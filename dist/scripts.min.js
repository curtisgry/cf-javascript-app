const pokemonRepository=function(){let t=[];const e="https://pokeapi.co/api/v2/pokemon/?limit=150",n=document.querySelector("input"),o=document.querySelector(".modal-content"),i=document.querySelector(".modal-title"),r=document.querySelector("#height"),c=document.querySelector("#type"),u=document.querySelector(".img-thumbnail");function a(t){const e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}function s(e){"object"==typeof e&&t.push(e)}function l(e){if(!e)return;const n=new RegExp(e,"gi");return t.filter(function(t){return!!t.name.match(n)})}function d(t){return function(t){const e=document.createElement("h2");e.classList.add("load-message"),e.innerText="Loading...",t.appendChild(e)}(o),fetch(t.detailsUrl).then(function(t){return document.querySelector(".load-message").remove(),t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}function m(t){i.innerText="",r.innerText="",c.innerText="",u.setAttribute("src",""),d(t).then(function(){const{name:e,imageUrl:n,types:o,height:s}=t,l={height:`Height - ${s}`,types:`Type - ${o.map(t=>a(t.type.name)).join(", ")}`};var d,m,f;d=e,m=l,f=n,i.innerText="",r.innerText="",c.innerText="",i.innerText=d||"",r.innerText=m.height||"",c.innerText=m.types||"",u.setAttribute("src",f)})}function f(t){const e=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#infoModal"),n.classList.add("list-group-item","col-6","col-md-3","col-lg-2"),function(t,e){t.addEventListener("click",function(){m(e)})}(o,t),o.innerText=t.name,o.classList.add("button","btn","btn-block"),n.append(o),e.append(n)}return n.addEventListener("input",function(e){const n=document.querySelector(".pokemon-list");if(!e.target.value)return n.innerHTML="",void t.forEach(function(t){f(t)});const o=l(e.target.value);n.innerHTML="",o.forEach(function(t){f(t)})}),{getAll:function(){return t},add:s,find:l,addListItem:f,loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){s({name:a(t.name),detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});