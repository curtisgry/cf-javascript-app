const pokemonRepository=function(){let t=[];const e="https://pokeapi.co/api/v2/pokemon/?limit=150";document.querySelector("input").addEventListener("input",e=>{const n=document.querySelector(".pokemon-list");if(!e.target.value)return n.innerHTML="",void t.forEach(function(t){m(t)});const o=s(e.target.value);n.innerHTML="",o.forEach(function(t){m(t)})});const n=document.querySelector(".modal-content"),o=document.querySelector(".modal-title"),i=document.querySelector("#height"),r=document.querySelector("#type"),c=document.querySelector(".img-thumbnail");function u(t){const e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}function a(e){"object"==typeof e&&t.push(e)}function s(e){if(!e)return;const n=new RegExp(e,"gi");return t.filter(function(t){return!!t.name.match(n)})}function l(t){return function(t){const e=document.createElement("h2");e.classList.add("load-message"),e.innerText="Loading...",t.appendChild(e)}(n),fetch(t.detailsUrl).then(function(t){return document.querySelector(".load-message").remove(),t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}function d(t){o.innerText="",i.innerText="",r.innerText="",c.setAttribute("src",""),l(t).then(function(){const{name:e,imageUrl:n,types:a,height:s}=t,l={height:`Height - ${s}`,types:`Type - ${a.map(t=>u(t.type.name)).join(", ")}`};var d,m,p;d=e,m=l,p=n,o.innerText="",i.innerText="",r.innerText="",o.innerText=d||"",i.innerText=m.height||"",r.innerText=m.types||"",c.setAttribute("src",p)})}function m(t){const e=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#infoModal"),n.classList.add("list-group-item","col-6","col-md-3","col-lg-2"),function(t,e){t.addEventListener("click",function(){d(e)})}(o,t),o.innerText=t.name,o.classList.add("button","btn","btn-block"),n.append(o),e.append(n)}return{getAll:function(){return t},add:a,find:s,addListItem:m,loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){a({name:u(t.name),detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});